<div class="overflow-x-auto">
  <div class="flex justify-between items-center mb-4">
    @if (headers.length==0) {
    <h2 class="text-2xl font-bold">{{ title }}</h2>
    }@else {
    <h2 class="text-2xl font-bold">{{ headers[0] }}s</h2>
    }

    <button
      (click)="onAdd.emit()"
      class="flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded"
    >
      <i class="fas fa-plus"></i>
      @if (headers.length>0) {
      <span>Agregar {{ headers[0] }}</span>
      }@else {
      <span>Agregar {{ columns[0].header }}</span>
      }
    </button>
  </div>

  @if (data.length > 0) {
  <table class="min-w-full">
    <thead>
      <tr>
        <th *ngFor="let column of columns" class="px-4 py-2 text-left">
          {{ column.header }}
        </th>
        <th class="px-4 py-2 text-left">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of data">
        <td *ngFor="let value of columns" class="px-4 py-2">
          {{ getCellValue(item, value) }}
        </td>
        <td class="px-4 py-2">
          <div class="flex space-x-2">
            <button
              (click)="onEdit.emit(item)"
              class="border border-gray-300 rounded p-1"
            >
              <i class="fas fa-pencil-alt"></i>
            </button>
            <button
              (click)="onDelete.emit(item)"
              class="border border-gray-300 rounded p-1"
            >
              <i class="fas fa-trash-alt"></i>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  } @else {
  <div class="w-full h-40 flex justify-center items-center">
    <p class="text-gray-500">
      <i class="fas fa-exclamation-circle mr-2"></i>No hay datos para mostrar
    </p>
  </div>
  }
</div>
